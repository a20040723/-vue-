# 异步寻宝（增强版）

功能:
- 全景页（地图）展示多个地点
- 点击地点进入场景页，每个场景有背景音乐
- 自动保存游戏进度（localStorage），重新打开浏览器可恢复

如何运行（本地静态服务器）:

1. 推荐使用简单的静态服务器，例如 Python 自带的 http.server（需要已安装 Python）:

   在 PowerShell 中运行（在项目根目录即包含本文件的目录）:

   python -m http.server 8000

   然后在浏览器打开 http://localhost:8000/

2. 也可以使用 VS Code 的 Live Server 插件或任意静态服务器。

测试说明:

- 打开页面后会看到全景地图。点击任一地点进入场景页面，背景音乐会自动播放（若浏览器策略阻止自动播放，需先与页面交互）。
- 在场景页面点击“探索/找寻宝藏”会随机获得宝藏，状态会显示在全景页上。
- 调整音量（页面右上），刷新或关闭再打开页面，之前的进度和音量会被恢复。
- 点击“重置进度”会清除 localStorage 并恢复初始状态。

注意:
- 若音频文件无法播放，请检查浏览器控制台，确认文件名与工作区中的 mp3 文件名一致。

图片与 UI 更新:

- 已为每个场景添加了占位 SVG 图片，位于 `assets/images/`（`library.svg`、`temple.svg`、`beat.svg`、`brain.svg`）。页面会在场景打开时淡入显示场景图，并在全景页显示小缩略图。
- 浏览器首次加载时会预加载这些 SVG，打开场景会先确保图片加载完成以避免闪烁。
- 若你想替换图片，可以用同名文件覆盖 `assets/images/` 下的对应 SVG，或修改 `app.js` 中 SCENES 数组的 `image` 字段为新的路径。

调试与小技巧:

- 如果场景图未显示，请在浏览器开发者工具的 Network 面板确认 `assets/images/*.svg` 已成功返回 200。
- 若音频没有自动播放，请点击页面任意处触发播放（浏览器策略）。

全景视图与进度小组件:

- 页面顶部右侧显示已发现碎片计数与进度条，会在发现新碎片时自动更新。
- 场景页的左侧为可拖拽的全景视图（模拟宽图横向平移）。支持鼠标拖拽与触摸滑动，也可以点击右下角的“全屏”按钮进入全屏查看。
- 如果要替换占位图片，请放入 `assets/images/`，建议使用宽图（例如 2:1 或更宽）以获得更好的全景体验。


